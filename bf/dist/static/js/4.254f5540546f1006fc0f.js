webpackJsonp([4],{JLo4:function(t,e){},eHps:function(t,e,a){"use strict";var l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[e("div",{staticClass:"img-view",on:{click:this.bigImg}},[e("div",{staticClass:"img-layer"}),this._v(" "),e("div",{staticClass:"img"},[e("img",{attrs:{src:this.imgSrc}})])])])},staticRenderFns:[]};var s=a("VU/8")({name:"bigImg",props:["imgSrc"],methods:{bigImg:function(){this.$emit("clickit")}}},l,!1,function(t){a("JLo4")},"data-v-e73b4cb6",null);e.a=s.exports},vgKY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("mw3O"),a("7+uW"),a("YaEn");var l=a("P9l9"),s={name:"PlatformBill",data:function(){return{tableList:{mallId:l.g,pageIndex:1,orderId:"",memName:"",goodsName:"",startTime:"",endTime:"",timeType:""},tableDatas:[],totalCount:0,time:"",loading:!0,imgSrc:"",oldStatus:"",selectList:"",type:"timeType",billDetail:""}},components:{"big-img":a("eHps").a},methods:{getTablelist:function(){var t=this;Object(l.b)(this.tableList).then(function(e){t.tableDatas=e.data,console.log(t.tableDatas),t.billDetail=e.billDetail,t.totalCount=e.pageInfo.totalCount,t.loading=!1}).catch(function(e){t.$message.error("请求失败，请联系客服，失败码"+e),t.loading=!1})},handleCurrentChange:function(t){this.tableList.pageIndex=t,this.getTablelist(),console.log(this.tableList.pageIndex)},getSarch:function(t,e,a,l,s,i){var o="";this.selectList.forEach(function(t){t.value==i&&(o=t.key)}),this.tableList.orderId=t,this.tableList.memName=l,this.tableList.goodsName=s,this.tableList.timeType=o,this.getTablelist()},pickerBeginDateAfter:{disabledDate:function(t){return t.getTime()>Date.now()}},setReset:function(){this.tableList.startTime="",this.tableList.endTime="",this.tableList.orderId="",this.tableList.memName="",this.tableList.goodsName="",this.time="",this.oldStatus=""},GetClickMessage:function(t){var e=this;Object(l.a)({orderId:t}).then(function(t){e.imgSrc=t.data,window.open(e.imgSrc)}).catch(function(t){e.$message.error("请求失败，请联系客服，失败码"+t),e.loading=!1})},importFn:function(t,e,a,s,i,o,n){var r=l.f+"exportBill.json?mallId=123307710000000&orderId="+e+"&memName="+a+"&goodsName="+s+"&startTime="+i+"&endTime="+o+"&timeType="+n;window.location.href=r},getSelectList:function(){var t=this;Object(l.c)({type:this.type}).then(function(e){t.selectList=e.data,console.log(e),t.loading=!1}).catch(function(e){t.$message.error("请求失败，请联系客服，失败码"+e),t.loading=!1})}},mounted:function(){this.getTablelist(),this.getSelectList()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{staticClass:"demo-form-inline query-form ",attrs:{inline:!0,model:t.tableList}},[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{attrs:{placeholder:"订单号"},model:{value:t.tableList.orderId,callback:function(e){t.$set(t.tableList,"orderId",e)},expression:"tableList.orderId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"时间选择"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.oldStatus,callback:function(e){t.oldStatus=e},expression:"oldStatus"}},t._l(t.selectList,function(t){return a("el-option",{key:t.key,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.tableList.startTime,callback:function(e){t.$set(t.tableList,"startTime",e)},expression:"tableList.startTime"}}),t._v(" "),a("span",{staticClass:"demonstration"},[t._v("至")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.tableList.endTime,callback:function(e){t.$set(t.tableList,"endTime",e)},expression:"tableList.endTime"}}),t._v(" "),a("el-form-item",{attrs:{label:"收货人"}},[a("el-input",{attrs:{placeholder:"收货人"},model:{value:t.tableList.memName,callback:function(e){t.$set(t.tableList,"memName",e)},expression:"tableList.memName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品"}},[a("el-input",{attrs:{placeholder:"商品"},model:{value:t.tableList.goodsName,callback:function(e){t.$set(t.tableList,"goodsName",e)},expression:"tableList.goodsName"}})],1),t._v(" "),a("div",{staticClass:"query_button"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.getSarch(t.tableList.orderId,t.tableList.startTime,t.tableList.endTime,t.tableList.memName,t.tableList.goodsName,t.oldStatus)}}},[t._v("查询")]),t._v(" "),a("el-button",{on:{click:t.setReset}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"info",plain:""},on:{click:function(e){t.importFn(t.tableList.mallId,t.tableList.orderId,t.tableList.memName,t.tableList.goodsName,t.tableList.startTime,t.tableList.endTime,t.oldStatus)}}},[t._v("导出")])],1)],1)],1),t._v(" "),a("el-row",{staticClass:"container"},[a("el-col",{attrs:{span:24}},[a("el-row",{staticClass:"all-classify"},[a("el-col",{attrs:{span:4}},[a("span",{},[t._v("订单数: "),a("span",{staticClass:"RedColor"},[t._v(t._s(t.billDetail.orderSum))]),t._v("条")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{},[t._v("销售总额: "),a("span",{staticClass:"RedColor"},[t._v(t._s(t.billDetail.saleAmt))]),t._v("元")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{},[t._v("退款: "),a("span",{staticClass:"RedColor"},[t._v(t._s(t.billDetail.remoneyAmt))]),t._v("元")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{},[t._v("有效销售: "),a("span",{staticClass:"RedColor"},[t._v(t._s(t.billDetail.actualAmt))]),t._v("元")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{},[t._v("应结总额: "),a("span",{staticClass:"RedColor"},[t._v(t._s(t.billDetail.settAmt))]),t._v("元")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("span",{},[t._v("收益率: "),a("span",[t._v(t._s(t.billDetail.profit))]),t._v("%")])])],1)],1)],1),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableDatas,border:""}},[a("el-table-column",{attrs:{prop:"orderId",label:"订单号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"商品"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unitPrice",label:"售价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"qty",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"memberDetail",label:"下单人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"小计"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mallSettAmt",label:"商家结算金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderTime",label:"下单时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"payTime",label:"支付时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"商家扣点",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.GetClickMessage(e.row.orderId)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"pagination ",attrs:{src:t.imgSrc,background:"",layout:"prev, pager, next , jumper","current-page":t.tableList.pageIndex,total:t.totalCount},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.tableList,"pageIndex",e)}}})],1)],1)},staticRenderFns:[]},o=a("VU/8")(s,i,!1,null,null,null);e.default=o.exports}});
//# sourceMappingURL=4.254f5540546f1006fc0f.js.map